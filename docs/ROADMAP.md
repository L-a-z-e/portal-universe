# Portal Universe v2.0 - í™•ì¥ ë¡œë“œë§µ

## ê°œìš”

Portal Universeë¥¼ **í’€ ì´ì»¤ë¨¸ìŠ¤ í”Œë«í¼**ìœ¼ë¡œ í™•ì¥í•˜ëŠ” ë¡œë“œë§µì…ë‹ˆë‹¤.
4ê°€ì§€ í•µì‹¬ ì˜ì—­ì„ ë‹¨ê³„ì ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤:

1. í’€ ì´ì»¤ë¨¸ìŠ¤ + Saga íŒ¨í„´
2. ë™ì‹œì„±/ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬
3. ì‹¤ì‹œê°„ ê¸°ëŠ¥ + ê²€ìƒ‰
4. ìš´ì˜/DevOps

---

## ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Portal Universe v2.0                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Phase 1: í’€ ì´ì»¤ë¨¸ìŠ¤ ê¸°ë°˜                                        â”‚
â”‚  â”œâ”€â”€ ì¥ë°”êµ¬ë‹ˆ (Cart)                                             â”‚
â”‚  â”œâ”€â”€ ì£¼ë¬¸/ê²°ì œ (Order + Payment) - Saga íŒ¨í„´                      â”‚
â”‚  â”œâ”€â”€ ì¬ê³  ê´€ë¦¬ (Inventory) - ë™ì‹œì„± ì œì–´                           â”‚
â”‚  â””â”€â”€ ë°°ì†¡ ì¶”ì  (Delivery)                                        â”‚
â”‚                                                                 â”‚
â”‚  Phase 2: ë™ì‹œì„± / ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½                                   â”‚
â”‚  â”œâ”€â”€ ì„ ì°©ìˆœ ì¿ í° ë°œê¸‰ (Coupon) - Redis + Lua                      â”‚
â”‚  â”œâ”€â”€ íƒ€ì„ë”œ/í”Œë˜ì‹œì„¸ì¼ - Rate Limiting                            â”‚
â”‚  â””â”€â”€ ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ (Queue) - í‹°ì¼“íŒ… ì‹œë®¬ë ˆì´ì…˜                       â”‚
â”‚                                                                 â”‚
â”‚  Phase 3: ì‹¤ì‹œê°„ + ê²€ìƒ‰                                          â”‚
â”‚  â”œâ”€â”€ ì•Œë¦¼ ì„¼í„° (Notification) - WebSocket/SSE                    â”‚
â”‚  â”œâ”€â”€ ì‹¤ì‹œê°„ ì¬ê³  í˜„í™©                                             â”‚
â”‚  â”œâ”€â”€ Elasticsearch í†µí•© - ìƒí’ˆ/ë¸”ë¡œê·¸ í†µí•© ê²€ìƒ‰                     â”‚
â”‚  â””â”€â”€ ê²€ìƒ‰ì–´ ìë™ì™„ì„±, ì—°ê´€ ê²€ìƒ‰ì–´                                   â”‚
â”‚                                                                 â”‚
â”‚  Phase 4: ìš´ì˜/DevOps                                           â”‚
â”‚  â”œâ”€â”€ CI/CD íŒŒì´í”„ë¼ì¸                                            â”‚
â”‚  â”œâ”€â”€ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë° ì„±ëŠ¥ ìµœì í™”                                    â”‚
â”‚  â””â”€â”€ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì™„ì„±                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 1: í’€ ì´ì»¤ë¨¸ìŠ¤ ê¸°ë°˜ âœ… ì™„ë£Œ

**ëª©í‘œ**: shopping-serviceë¥¼ ì™„ì „í•œ ì´ì»¤ë¨¸ìŠ¤ í”Œë«í¼ìœ¼ë¡œ í™•ì¥

### êµ¬í˜„ í•­ëª©
| ê¸°ëŠ¥ | ì„¤ëª… | í•µì‹¬ ê¸°ìˆ  |
|------|------|----------|
| ì¥ë°”êµ¬ë‹ˆ | ì‚¬ìš©ìë³„ ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬ | JPA, ê°€ê²© ìŠ¤ëƒ…ìƒ· |
| ì¬ê³  ê´€ë¦¬ | ì‹¤ì‹œê°„ ì¬ê³  ì¶”ì , ì˜ˆì•½/ì°¨ê°/ë³µì› | Pessimistic Lock |
| ì£¼ë¬¸ | ì£¼ë¬¸ ìƒì„± ë° ìƒíƒœ ê´€ë¦¬ | Saga Orchestration |
| ê²°ì œ | Mock PG ì—°ë™, ê²°ì œ ì²˜ë¦¬ | ìƒíƒœ ë¨¸ì‹  |
| ë°°ì†¡ | ë°°ì†¡ ìƒì„± ë° ìƒíƒœ ì¶”ì  | ì´ë ¥ ê´€ë¦¬ |

### í•µì‹¬ íŒ¨í„´
- **Saga Orchestration**: Reserve â†’ Payment â†’ Deduct â†’ Delivery â†’ Confirm
- **Pessimistic Lock**: ì¬ê³  ë™ì‹œì„± ì œì–´
- **Event-Driven**: Kafkaë¥¼ í†µí•œ ì´ë²¤íŠ¸ ë°œí–‰

### ê´€ë ¨ ë¬¸ì„œ
- [Phase 1 PRD](./prd/PRD-001-ecommerce-core.md)

---

## Phase 2: ë™ì‹œì„± / ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½

**ëª©í‘œ**: ëŒ€ê·œëª¨ ë™ì‹œ ì ‘ì† ìƒí™©ì—ì„œì˜ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µ

### êµ¬í˜„ í•­ëª©
| ê¸°ëŠ¥ | ì„¤ëª… | í•µì‹¬ ê¸°ìˆ  |
|------|------|----------|
| ì„ ì°©ìˆœ ì¿ í° | Nëª… í•œì • ì¿ í° ë°œê¸‰ | Redis + Lua Script |
| íƒ€ì„ë”œ | ì‹œê°„ í•œì • íŠ¹ê°€ íŒë§¤ | Rate Limiting, Redis |
| ëŒ€ê¸°ì—´ | íŠ¸ë˜í”½ ì œì–´, ìˆœì°¨ ì²˜ë¦¬ | Redis Sorted Set |

### í•µì‹¬ ê¸°ìˆ 
- **Redis**: ë¶„ì‚° ë½, ì›ìì  ì—°ì‚°
- **Lua Script**: Redis íŠ¸ëœì­ì…˜ ë³´ì¥
- **Rate Limiting**: Token Bucket / Sliding Window

### ê´€ë ¨ ë¬¸ì„œ
- [Phase 2 PRD](./prd/PRD-002-concurrency.md)

---

## Phase 3: ì‹¤ì‹œê°„ + ê²€ìƒ‰

**ëª©í‘œ**: ì‹¤ì‹œê°„ ì‚¬ìš©ì ê²½í—˜ ë° ê³ ê¸‰ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ

### êµ¬í˜„ í•­ëª©
| ê¸°ëŠ¥ | ì„¤ëª… | í•µì‹¬ ê¸°ìˆ  |
|------|------|----------|
| ì•Œë¦¼ ì„¼í„° | ì‹¤ì‹œê°„ ì•Œë¦¼ í‘¸ì‹œ | WebSocket / SSE |
| ì‹¤ì‹œê°„ ì¬ê³  | ì¬ê³  ë³€ë™ ì‹¤ì‹œê°„ í‘œì‹œ | WebSocket + Redis Pub/Sub |
| í†µí•© ê²€ìƒ‰ | ìƒí’ˆ/ë¸”ë¡œê·¸ ê²€ìƒ‰ | Elasticsearch |
| ìë™ì™„ì„± | ê²€ìƒ‰ì–´ ì¶”ì²œ | Elasticsearch Suggest |

### í•µì‹¬ ê¸°ìˆ 
- **WebSocket/SSE**: ì‹¤ì‹œê°„ ì–‘ë°©í–¥/ë‹¨ë°©í–¥ í†µì‹ 
- **Elasticsearch**: ì „ë¬¸ ê²€ìƒ‰, í•œê¸€ í˜•íƒœì†Œ ë¶„ì„
- **Redis Pub/Sub**: ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŠ¸

### ê´€ë ¨ ë¬¸ì„œ
- [Phase 3 PRD](./prd/PRD-003-realtime-search.md)

---

## Phase 4: ìš´ì˜/DevOps

**ëª©í‘œ**: í”„ë¡œë•ì…˜ ë ˆë²¨ì˜ ìš´ì˜ í™˜ê²½ êµ¬ì¶•

### êµ¬í˜„ í•­ëª©
| ê¸°ëŠ¥ | ì„¤ëª… | í•µì‹¬ ê¸°ìˆ  |
|------|------|----------|
| CI/CD | ìë™ ë¹Œë“œ/ë°°í¬ | GitHub Actions |
| ë¶€í•˜ í…ŒìŠ¤íŠ¸ | ì„±ëŠ¥ ê²€ì¦ | k6, Gatling |
| ëª¨ë‹ˆí„°ë§ | ë©”íŠ¸ë¦­/ë¡œê·¸/íŠ¸ë ˆì´ì‹± | Prometheus, Grafana, Zipkin |
| IaC | ì¸í”„ë¼ ì½”ë“œí™” | Terraform (ì„ íƒ) |

### í•µì‹¬ ê¸°ìˆ 
- **GitHub Actions**: CI/CD íŒŒì´í”„ë¼ì¸
- **k6/Gatling**: ë¶€í•˜ í…ŒìŠ¤íŠ¸
- **ELK Stack**: ë¡œê·¸ ì¤‘ì•™í™” (ì„ íƒ)

### ê´€ë ¨ ë¬¸ì„œ
- [Phase 4 PRD](./prd/PRD-004-devops.md)

---

## ë¬¸ì„œ êµ¬ì¡°

```
docs/
â”œâ”€â”€ ROADMAP.md                       # ì´ ë¬¸ì„œ (ë§ˆìŠ¤í„° ë¡œë“œë§µ)
â”œâ”€â”€ architecture/
â”‚   â”œâ”€â”€ auth-system-design.md        # ì¸ì¦ ì‹œìŠ¤í…œ ì„¤ê³„
â”‚   â””â”€â”€ signup-flow.md               # íšŒì›ê°€ì… í”Œë¡œìš°
â”œâ”€â”€ prd/
â”‚   â”œâ”€â”€ PRD-001-ecommerce-core.md    # Phase 1 PRD (ì™„ë£Œ)
â”‚   â”œâ”€â”€ PRD-002-concurrency.md       # Phase 2 PRD
â”‚   â”œâ”€â”€ PRD-003-realtime-search.md   # Phase 3 PRD
â”‚   â””â”€â”€ PRD-004-devops.md            # Phase 4 PRD
â””â”€â”€ adr/                             # Architecture Decision Records (ì˜ˆì •)
    â”œâ”€â”€ ADR-001-saga-pattern.md
    â”œâ”€â”€ ADR-002-redis-distributed-lock.md
    â””â”€â”€ ...
```

---

## ì§„í–‰ í˜„í™©

| Phase | ìƒíƒœ | ì‹œì‘ì¼ | ì™„ë£Œì¼ |
|-------|------|--------|--------|
| Phase 1 | âœ… ì™„ë£Œ | 2026-01-16 | 2026-01-17 |
| Phase 2 | ğŸ“‹ ê³„íš | - | - |
| Phase 3 | â³ ëŒ€ê¸° | - | - |
| Phase 4 | â³ ëŒ€ê¸° | - | - |

---

## ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| Backend | Java 17, Spring Boot 3.5.5, Spring Cloud 2025.0.0 |
| Database | MySQL 8.0, MongoDB, Redis |
| Message Queue | Apache Kafka 4.1.0 (KRaft) |
| Search | Elasticsearch (Phase 3) |
| Frontend | Vue 3, React 18, Module Federation |
| Infrastructure | Docker, Kubernetes, GitHub Actions |
| Monitoring | Prometheus, Grafana, Zipkin |
